<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="doc-title">Matéria • Ubatuba Reage</title>
    <meta name="description" id="doc-description" content="">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="../styles.css" rel="stylesheet">
</head>
<body>
    <header class="header-main header-dark">
        <div class="container-fluid">
            <div class="row align-items-center justify-content-between">
                <div class="col-auto">
                    <div class="header-logo">
                        <h1 class="m-0">
                            <a href="../index.html" class="custom-logo-link" rel="home">
                                <span class="brand-logo" aria-label="Ubatuba Reage">
                                    <span class="l1">Ubatuba</span>
                                    <span class="l2">Reage</span>
                                </span>
                            </a>
                        </h1>
                    </div>
                </div>
                <div class="col-auto">
                    <div class="header-actions d-flex align-items-center gap-3">
                        <a href="../busca.html" class="btn btn-search d-none d-lg-flex text-white-50" aria-label="Buscar">
                            <i class="bi bi-search"></i>
                        </a>
                        <a href="../apoie.html" class="btn btn-support btn-primary text-uppercase fw-bold px-3 py-2 d-none d-lg-inline-block">
                            Quero Apoiar
                        </a>
                        <button class="btn btn-toggle-menu d-flex align-items-center gap-2 p-0 text-white" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu" aria-controls="offcanvasMenu" aria-label="Menu">
                            <div class="hamburger-icon">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main id="main-content" class="main-content" style="background: #0e0e0e;">
        <section class="py-3" style="background: #111; border-bottom: 1px solid rgba(255,255,255,0.08);">
            <div class="container">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mb-0">
                        <li class="breadcrumb-item"><a href="../index.html" class="text-white-50">Início</a></li>
                        <li class="breadcrumb-item"><a id="bc-category" href="#" class="text-white-50">Categoria</a></li>
                        <li class="breadcrumb-item active text-white" id="bc-title" aria-current="page">Título</li>
                    </ol>
                </nav>
            </div>
        </section>

        <article class="py-5" style="color: #fff;">
            <div class="container" style="max-width: 800px;">
                <div class="d-flex align-items-center gap-3 mb-3">
                    <span id="article-category" class="badge bg-primary px-3 py-2 text-uppercase fw-bold">Categoria</span>
                    <span class="text-white-50 small"><i class="bi bi-clock me-1"></i><span id="reading-time">5</span> min de leitura</span>
                </div>
                <h1 id="article-title" class="display-5 fw-bold mb-4 lh-base">Título</h1>
                <p id="article-excerpt" class="lead mb-4" style="color: #d1d5db; font-size: 1.25rem; line-height: 1.6;"></p>
                <div class="d-flex align-items-center gap-4 mb-4 pb-4" style="border-bottom: 1px solid rgba(255,255,255,0.08);">
                    <div class="d-flex align-items-center gap-2">
                        <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;"><i class="bi bi-person-fill text-white"></i></div>
                        <div>
                            <div id="article-author" class="fw-bold text-white">Autor</div>
                            <div id="article-author-email" class="small text-white-50"></div>
                        </div>
                    </div>
                    <div id="article-date" class="text-white-50 small"></div>
                </div>
                <figure class="mb-5">
                    <img id="article-image" src="" alt="" class="img-fluid rounded">
                </figure>
                <div id="article-body" class="article-content"></div>
            </div>
        </article>

        <section class="py-5" style="background: #111; border-top: 1px solid rgba(255,255,255,0.08);">
            <div class="container" style="max-width: 800px;">
                <div id="comments-section"></div>
            </div>
        </section>
    </main>

    <footer class="footer-main bg-dark text-white py-4">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0 text-muted">© 2025 Ubatuba Reage. Todos os direitos reservados.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <div class="d-flex gap-3 justify-content-md-end justify-content-start">
                        <a href="../sobre.html" class="text-white-50 text-decoration-none">Sobre</a>
                        <a href="../contato.html" class="text-white-50 text-decoration-none">Contato</a>
                        <a href="../privacidade.html" class="text-white-50 text-decoration-none">Privacidade</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
    async function renderArticleFromSlug() {
        const params = new URLSearchParams(window.location.search);
        const slug = params.get('slug');
        if (!slug) return;

        try {
            const res = await fetch('../data/posts/' + slug + '.json');
            if (!res.ok) throw new Error('Matéria não encontrada');
            const post = await res.json();

            document.getElementById('doc-title').textContent = post.title + ' • Ubatuba Reage';
            document.getElementById('doc-description').setAttribute('content', post.excerpt || '');
            document.getElementById('article-title').textContent = post.title;
            document.getElementById('article-excerpt').textContent = post.excerpt || '';
            document.getElementById('article-author').textContent = post.author || 'Redação Ubatuba Reage';
            document.getElementById('article-author-email').textContent = post.authorEmail || '';
            document.getElementById('article-date').textContent = new Date(post.date).toLocaleDateString('pt-BR');
            document.getElementById('article-image').src = post.image;
            document.getElementById('article-image').alt = post.title;
            document.getElementById('article-category').textContent = post.category;
            document.getElementById('bc-category').textContent = post.category;
            document.getElementById('bc-category').href = '../categoria/' + (post.categorySlug || 'cidade') + '.html';
            document.getElementById('bc-title').textContent = post.title;
            
            // Render body (Markdown convertido pelo Decap em string HTML simples)
            document.getElementById('article-body').innerHTML = (post.body || '').replace(/\n/g, '<br>');
        } catch (e) {
            document.getElementById('article-title').textContent = 'Matéria não encontrada';
            document.getElementById('article-excerpt').textContent = '';
        }
    }
    document.addEventListener('DOMContentLoaded', renderArticleFromSlug);
    </script>

    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script src="../js/auth.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/analytics.js"></script>
    <script src="../js/comments.js"></script>
    <script src="../script.js"></script>
</body>
</html>


